<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Eugenio - Los 30 üéÇ</title>
    <link
      rel="shortcut icon"
      href="https://eugeniosaintemarie.github.io/notes/img/sys/favicon.ico"
    />
    <meta property="og:title" content="Eugenio - Los 30 üéÇ" />
    <meta
      property="og:description"
      content="Los usamos de excusa para juntarnos a escabiar mucho üçª"
    />
    <meta
      property="og:image"
      content="https://eugeniosaintemarie.github.io/30/Stitch_dancing.png"
    />
    <meta property="og:url" content="https://eugeniosaintemarie.github.io/30" />
    <meta property="og:type" content="website" />

    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: black;
        color: white;
        text-align: center;
      }

      main {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 16px;
        /*min-height: 100vh;*/
      }

      h1 {
        font-size: 2.5rem;
        font-weight: bold;
        margin-bottom: 16px;
      }

      h2 {
        font-size: 1.5rem;
        margin-bottom: 24px;
      }

      .emoji {
        display: inline-block;
        margin-left: 8px;
        animation: fade-in-out 1.5s infinite;
      }

      @keyframes fade-in-out {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0;
        }
      }

      .event-container {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        gap: 16px;
        margin: 0 auto;
        max-width: 300px;
      }

      .event-row {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 8px;
      }

      .event-button {
        background-color: white;
        color: black;
        border: none;
        padding: 8px;
        border-radius: 4px;
        cursor: pointer;
        transition: transform 0.2s;
      }

      .event-button:hover {
        transform: scale(1.1);
      }

      .footer {
        position: fixed;
        bottom: 100px;
        left: 0;
        width: 100%;
        display: flex;
        justify-content: center;
      }

      .footer img {
        width: 32px;
        height: 32px;
      }
    </style>
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-LNQ47VG50M"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-LNQ47VG50M");
    </script>
  </head>
  <body>
    <main>
      <br /><br />
      <h1>Los 30 üéÇ</h1>
      <br />
      <h2>Los usamos de excusa para juntarnos a escabiar mucho üçª</h2>
      <a href="https://www.instagram.com/eugeniosaintemarie/" target="_blank">
        <img style="width: 275px" src="./Stitch_tongue.gif" />
      </a>
      <br />
      <div class="event-container">
        <div class="event-row">
          <div style="text-align: right">
            <p style="margin-bottom: 0px">S√°bado 21 de diciembre</p>
            <p style="margin-top: 0px">abierto de 23pm a 5am</p>
          </div>
          <button
            class="event-button"
            onclick="addToCalendar()"
            style="width: 90px"
          >
            agendar üìÖ
          </button>
        </div>
        <div class="event-row">
          <p>Carlos Calvo 2913</p>
          <a href="https://maps.app.goo.gl/gwyL49Ye5BR384GV9" target="_blank">
            <button class="event-button" style="width: 90px">Maps üìç</button>
          </a>
        </div>
      </div>
      <br />
      <p><i>Casa con barra, pista y patio</i></p>
    </main>
    <div class="footer">
      <p>
        <a
          style="text-decoration: none; color: grey"
          href="https://eugeniosaintemarie.github.io"
          >‚àÉ<span class="emoji">ü¶ñ</span></a
        >
      </p>
    </div>
    <script>
      function addToCalendar() {
        const event = {
          title: "Eugenio - Los 30",
          description:
            "Los usamos de excusa para juntarnos a escabiar mucho üçª",
          startDate: new Date(2023, 11, 21, 23, 0).toISOString(),
          endDate: new Date(2023, 11, 22, 5, 0).toISOString(),
          location:
            "Carlos Calvo 2913, C1231 Cdad. Aut√≥noma de Buenos Aires, Argentina",
        };

        const isAndroid = /Android/i.test(navigator.userAgent);
        const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);

        if (isAndroid) {
          const url = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(
            event.title
          )}&details=${encodeURIComponent(
            event.description
          )}&dates=${event.startDate.replace(
            /-|:|\.\d+/g,
            ""
          )}/${event.endDate.replace(
            /-|:|\.\d+/g,
            ""
          )}&location=${encodeURIComponent(event.location)}`;

          window.open(url, "_blank");
        } else if (isIOS) {
          const formatDate = (date) =>
            date.replace(/-|:|\.\d+/g, "").slice(0, -1) + "Z";

          const icsContent = `
    BEGIN:VCALENDAR
    VERSION:2.0
    CALSCALE:GREGORIAN
    BEGIN:VEVENT
    SUMMARY:${event.title}
    DESCRIPTION:${event.description}
    DTSTART:${formatDate(event.startDate)}
    DTEND:${formatDate(event.endDate)}
    LOCATION:${event.location}
    END:VEVENT
    END:VCALENDAR
    `.trim();

          const blob = new Blob([icsContent], {
            type: "text/calendar;charset=utf-8;",
          });
          const link = document.createElement("a");
          link.href = URL.createObjectURL(blob);
          link.download = "event.ics";
          link.click();
        } else {
          alert("No se pudo detectar tu sistema operativo");
        }
      }
    </script>
  </body>
</html>
